{"version":3,"file":"static/js/606.9fcb5359.chunk.js","mappings":"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","sources":["utils/hooks/useTimeOutMessage.js","views/auth/SignUp/SignUpForm.js","views/auth/SignUp/index.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\n\r\nfunction useTimeOutMessage(interval = 3000) {\r\n\r\n    const [message, setMessage] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (message) {\r\n            let timeout = setTimeout(() => setMessage(''), interval)\r\n            return () => {\r\n                clearTimeout(timeout)\r\n            }\r\n\t\t}\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [message])\r\n                                              \r\n    return [message, setMessage]\r\n}\r\n\r\nexport default useTimeOutMessage","import React from 'react'\r\nimport { Input, Button, FormItem, FormContainer, Alert } from 'components/ui'\r\nimport { PasswordInput, ActionLink } from 'components/shared'\r\nimport { onSignInSuccess } from 'store/auth/sessionSlice'\r\nimport { setUser } from 'store/auth/userSlice'\r\nimport { apiSignUp } from 'services/AuthService'\r\nimport appConfig from 'configs/app.config'\r\nimport useTimeOutMessage from 'utils/hooks/useTimeOutMessage'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Field, Form, Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n\tuserName: Yup.string().required('Please enter your user name'),\r\n\temail: Yup.string().email('Invalid email').required('Please enter your email'),\r\n\tpassword: Yup.string().required('Please enter your password'),\r\n\tconfirmPassword: Yup.string().oneOf([Yup.ref('password'), null], 'Your passwords do not match')\r\n})\r\n\r\nconst SignUpForm = props => {\r\n\r\n\tconst { disableSubmit = false, className, signInUrl = '/sign-in' } = props\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst [message, setMessage] = useTimeOutMessage()\r\n\r\n\tconst onSignUp = async (values, setSubmitting) => {\r\n\t\tconst { userName, password, email } = values\r\n\t\tsetSubmitting(true)\r\n\t\ttry {\r\n\t\t\tconst resp = await apiSignUp({ userName, password, email })\r\n\t\t\tif (resp.data) {\r\n\t\t\t\tsetSubmitting(false)\r\n\t\t\t\tconst { token } = resp.data\r\n\t\t\t\tdispatch(onSignInSuccess(token))\r\n\t\t\t\tif(resp.data.user) {\r\n\t\t\t\t\tdispatch(setUser(resp.data.user || { \r\n\t\t\t\t\t\tavatar: '', \r\n\t\t\t\t\t\tuserName: 'Anonymous', \r\n\t\t\t\t\t\tauthority: ['USER'], \r\n\t\t\t\t\t\temail: ''\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tnavigate(appConfig.tourPath)\r\n\t\t\t}\r\n\t\t} catch (errors) {\r\n\t\t\tsetMessage(errors?.response?.data?.message || errors.toString())\r\n\t\t\tsetSubmitting(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t{message && <Alert className=\"mb-4\" type=\"danger\" showIcon>{message}</Alert>}\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tuserName: 'admin1', \r\n\t\t\t\t\tpassword: '123Qwe1', \r\n\t\t\t\t\tconfirmPassword: '123Qwe1',\r\n\t\t\t\t\temail: 'test@testmail.com' \r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\tonSubmit={(values, { setSubmitting }) => {\r\n\t\t\t\t\tif(!disableSubmit) {\r\n\t\t\t\t\t\tonSignUp(values, setSubmitting)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetSubmitting(false)\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{({touched, errors, isSubmitting}) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<FormContainer>\r\n\t\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\t\tlabel=\"User Name\"\r\n\t\t\t\t\t\t\t\tinvalid={errors.userName && touched.userName}\r\n\t\t\t\t\t\t\t\terrorMessage={errors.userName}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Field \r\n\t\t\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\" \r\n\t\t\t\t\t\t\t\t\tname=\"userName\" \r\n\t\t\t\t\t\t\t\t\tplaceholder=\"User Name\" \r\n\t\t\t\t\t\t\t\t\tcomponent={Input} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\t\tinvalid={errors.email && touched.email}\r\n\t\t\t\t\t\t\t\terrorMessage={errors.email}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Field \r\n\t\t\t\t\t\t\t\t\ttype=\"email\" \r\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\" \r\n\t\t\t\t\t\t\t\t\tname=\"email\" \r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\" \r\n\t\t\t\t\t\t\t\t\tcomponent={Input} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\tinvalid={errors.password && touched.password}\r\n\t\t\t\t\t\t\t\terrorMessage={errors.password}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\" \r\n\t\t\t\t\t\t\t\t\tname=\"password\" \r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\" \r\n\t\t\t\t\t\t\t\t\tcomponent={PasswordInput} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\t\tlabel=\"Confirm Password\"\r\n\t\t\t\t\t\t\t\tinvalid={errors.confirmPassword && touched.confirmPassword}\r\n\t\t\t\t\t\t\t\terrorMessage={errors.confirmPassword}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\" \r\n\t\t\t\t\t\t\t\t\tname=\"confirmPassword\" \r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Confirm Password\" \r\n\t\t\t\t\t\t\t\t\tcomponent={PasswordInput} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tblock \r\n\t\t\t\t\t\t\t\tloading={isSubmitting} \r\n\t\t\t\t\t\t\t\tvariant=\"solid\" \r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ isSubmitting ? 'Creating Account...' : 'Sign Up' }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<div className=\"mt-4 text-center\">\r\n\t\t\t\t\t\t\t\t<span>Already have an account? </span>\r\n\t\t\t\t\t\t\t\t<ActionLink to={signInUrl}>\r\n\t\t\t\t\t\t\t\t\tSign in\r\n\t\t\t\t\t\t\t\t</ActionLink>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</FormContainer>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</Formik>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SignUpForm","import React from 'react'\r\nimport SignUpForm from './SignUpForm'\r\n\r\nconst SignUp = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mb-8\">\r\n\t\t\t\t<h3 className=\"mb-1\">Sign Up</h3>\r\n\t\t\t\t<p>And lets get started with your free trial</p>\r\n\t\t\t</div>\r\n\t\t\t<SignUpForm disableSubmit={false} />\r\n\t\t</>\r\n\t\t\r\n\t)\r\n}\r\n\r\nexport default SignUp"],"names":["interval","useState","message","setMessage","useEffect","timeout","setTimeout","clearTimeout","validationSchema","Yup","shape","userName","required","email","password","confirmPassword","oneOf","props","disableSubmit","className","signInUrl","dispatch","useDispatch","navigate","useNavigate","useTimeOutMessage","onSignUp","values","setSubmitting","apiSignUp","resp","data","token","onSignInSuccess","user","setUser","avatar","authority","appConfig","response","toString","type","showIcon","initialValues","onSubmit","touched","errors","isSubmitting","label","invalid","errorMessage","autoComplete","name","placeholder","component","Input","PasswordInput","block","loading","variant","to"],"sourceRoot":""}